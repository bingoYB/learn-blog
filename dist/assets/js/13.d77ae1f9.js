(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{422:function(a,s,t){a.exports=t.p+"assets/img/preview.dd61e617.png"},423:function(a,s,t){a.exports=t.p+"assets/img/test.3e6a881e.png"},424:function(a,s,t){a.exports=t.p+"assets/img/93f72404-b338-11e6-92d4-9a365550a701.76eb1584.gif"},470:function(a,s,t){"use strict";t.r(s);var n=t(19),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,n=a._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"webpack-优化-插件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-优化-插件"}},[a._v("#")]),a._v(" Webpack | 优化 & 插件")]),a._v(" "),n("h2",{attrs:{id:"目的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#目的"}},[a._v("#")]),a._v(" 目的")]),a._v(" "),n("p",[a._v("webpack 是一款项目模块打包器，为我们项目开发带来很大的便利性，但是同时也会存在打包上的一些问题，为了提升打包体验，我们就需要对打包流程进行优化，主要优化目的有两个：")]),a._v(" "),n("ul",[n("li",[a._v("加快打包速度   ----提升开发上线体验")]),a._v(" "),n("li",[a._v("减小打包出的文件体积     ----提升网页加载性能")])]),a._v(" "),n("h2",{attrs:{id:"思路"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#思路"}},[a._v("#")]),a._v(" 思路")]),a._v(" "),n("ul",[n("li",[n("strong",[a._v("打包分析")]),a._v("：分析打包出的文件大小，与打包中各个环节的打包速度")]),a._v(" "),n("li",[n("strong",[a._v("缓存加速")]),a._v("：利用缓存来加快打包速度")]),a._v(" "),n("li",[n("strong",[a._v("静态资源处理")]),a._v("：提取出一些不变的静态代码库，放置外链中")]),a._v(" "),n("li",[n("strong",[a._v("多线程、多核加速")]),a._v("：利用计算机多核的优势，进行多核压缩、打包")]),a._v(" "),n("li",[a._v("html处理：利用H5的一些新特性，加快网页加载速度")])]),a._v(" "),n("p",[a._v("...")]),a._v(" "),n("p",[a._v("如果实在还是特别慢，嗯？😑 可以考虑集群编译吧，分模块打包，通过 jenkins 配置自动化，shell 脚本，通过免密登录 scp 到本地")]),a._v(" "),n("h2",{attrs:{id:"分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分析"}},[a._v("#")]),a._v(" 分析")]),a._v(" "),n("h3",{attrs:{id:"速度分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#速度分析"}},[a._v("#")]),a._v(" 速度分析")]),a._v(" "),n("p",[a._v("利用插件 "),n("a",{attrs:{href:"https://www.npmjs.com/package/speed-measure-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("speed-measure-webpack-plugin"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("安装")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("npm install --save-dev speed-measure-webpack-plugin\nyarn add -D speed-measure-webpack-plugin\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("p",[a._v("使用")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" SpeedMeasurePlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"speed-measure-webpack-plugin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" smp "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpeedMeasurePlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" webpackConfig "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" smp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("wrap")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("webpackConfig"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("p",[a._v("使用结果")]),a._v(" "),n("p",[n("img",{attrs:{src:t(422),alt:"Preview of Speed Measure Plugin's output"}})]),a._v(" "),n("h3",{attrs:{id:"输出文件分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#输出文件分析"}},[a._v("#")]),a._v(" 输出文件分析")]),a._v(" "),n("h4",{attrs:{id:"工具一-webpack-dashboard"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工具一-webpack-dashboard"}},[a._v("#")]),a._v(" 工具一："),n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-dashboard",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-dashboard"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("增强了 webpack 的输出，包含依赖的⼤⼩、进度和其他细节。")]),a._v(" "),n("p",[a._v("安装")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("npm install --save-dev webpack-dashboard\n# ... or ...\nyarn add --dev webpack-dashboard\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("p",[a._v("使用")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" DashboardPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"webpack-dashboard/plugin"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Add it to your webpack configuration plugins.")]),a._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("DashboardPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br")])]),n("p",[a._v("改变打包脚本")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('"scripts": {\n    "dev": "webpack-dashboard -- node index.js", # OR\n    "dev": "webpack-dashboard -- webpack-dev-server", # OR\n    "dev": "webpack-dashboard -- webpack",\n}\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("p",[a._v("使用效果")]),a._v(" "),n("p",[n("img",{attrs:{src:t(423),alt:"http://i.imgur.com/qL6dXJd.png"}})]),a._v(" "),n("h4",{attrs:{id:"工具二-webpack-bundle-analyzer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工具二-webpack-bundle-analyzer"}},[a._v("#")]),a._v(" 工具二："),n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-bundle-analyzer"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("打包结果分析")]),a._v(" "),n("p",[a._v("安装")]),a._v(" "),n("div",{staticClass:"language-shell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-shell"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# NPM")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" --save-dev webpack-bundle-analyzer\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# Yarn")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D webpack-bundle-analyzer\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br")])]),n("p",[a._v("使用")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" BundleAnalyzerPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'webpack-bundle-analyzer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("BundleAnalyzerPlugin"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  plugins"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("BundleAnalyzerPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("p",[n("img",{attrs:{src:t(424),alt:"webpack bundle analyzer zoomable treemap"}})]),a._v(" "),n("h4",{attrs:{id:"工具三-监控文件大小"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工具三-监控文件大小"}},[a._v("#")]),a._v(" 工具三：监控文件大小")]),a._v(" "),n("p",[a._v("集成到CI 监控⽂件的⼤⼩ https://github.com/siddharthkp/bundlesize")]),a._v(" "),n("h4",{attrs:{id:"工具四-其他分析方式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#工具四-其他分析方式"}},[a._v("#")]),a._v(" 工具四：其他分析方式")]),a._v(" "),n("p",[a._v("执行以下命令，将输出的文件上传到"),n("a",{attrs:{href:"http://alexkuz.github.io/webpack-chart/",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-chart"),n("OutboundLink")],1),a._v("或者"),n("a",{attrs:{href:"http://webpack.github.io/analyse/",target:"_blank",rel:"noopener noreferrer"}},[a._v("analyse"),n("OutboundLink")],1),a._v("上")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("webpack --profile --json > stats.json\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("h2",{attrs:{id:"缓存加速"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓存加速"}},[a._v("#")]),a._v(" 缓存加速")]),a._v(" "),n("h3",{attrs:{id:"整个工程开启缓存"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#整个工程开启缓存"}},[a._v("#")]),a._v(" 整个工程开启缓存")]),a._v(" "),n("p",[a._v("有时候为了极致性能，可以使用该方法，强缓存，会缓存所有打包结果，慎用")]),a._v(" "),n("blockquote",[n("p",[a._v("就目前自己的使用体验上存在一定情况会抛出异常导致打包缓慢，所以慎用")])]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/hard-source-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("hard-source-webpack-plugin"),n("OutboundLink")],1)]),a._v(" "),n("h3",{attrs:{id:"cache-loader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#cache-loader"}},[a._v("#")]),a._v(" cache-loader")]),a._v(" "),n("p",[a._v("安装 "),n("a",{attrs:{href:"https://www.npmjs.com/package/cache-loader",target:"_blank",rel:"noopener noreferrer"}},[a._v("cache-loader"),n("OutboundLink")],1)]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("npm install --save-dev cache-loader\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("根据前面的分析，在性能开销大的loader前面添加此loader，以将结果缓存到磁盘里")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[a._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  module"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    rules"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        test"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[a._v("\\.ext$")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        use"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cache-loader'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n          "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("...")]),a._v("loaders\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        exclude"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token regex"}},[n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")]),n("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[a._v("node_modules")]),n("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[a._v("/")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 排除不处理的⽬录")]),a._v("\n        include"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("resolve")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'src'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 精确指定要处理的⽬录")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br")])]),n("p",[a._v("babel-loader的缓存")]),a._v(" "),n("p",[a._v("loader的缓存 => 'babel-loader?cacheDirectory=true'")]),a._v(" "),n("h3",{attrs:{id:"webpack5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack5"}},[a._v("#")]),a._v(" webpack5")]),a._v(" "),n("p",[a._v("到了webpack5，可以通过cache 特性来将webpack工作缓存到硬盘中。存放的路径为"),n("code",[a._v("node_modules/.cache/webpack")])]),a._v(" "),n("ol",[n("li",[a._v('开发环境默认值为 cache.type = "memory"。')]),a._v(" "),n("li",[a._v('生产环境可手动设为 cache.type = "filesystem"。')])]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[a._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//...")]),a._v("\n  cache"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    type"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'filesystem'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    version"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'your_version'")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br")])]),n("h2",{attrs:{id:"静态代码提取"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#静态代码提取"}},[a._v("#")]),a._v(" 静态代码提取")]),a._v(" "),n("p",[a._v("将公共的UI库，框架库等提取处理，放进html中通过script、link标签引入，减少打包时间")]),a._v(" "),n("p",[a._v("因为一般公共库都有压缩版本，可直接引入")]),a._v(" "),n("blockquote",[n("p",[a._v("一般项目中业务代码不多的情况下，这种方式能直接提速80%")])]),a._v(" "),n("h2",{attrs:{id:"多核优化与打包压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多核优化与打包压缩"}},[a._v("#")]),a._v(" 多核优化与打包压缩")]),a._v(" "),n("h3",{attrs:{id:"javascript"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#javascript"}},[a._v("#")]),a._v(" javascript")]),a._v(" "),n("h5",{attrs:{id:"treeshaking-深度分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#treeshaking-深度分析"}},[a._v("#")]),a._v(" treeShaking 深度分析")]),a._v(" "),n("blockquote",[n("p",[a._v("用于描述移除 JavaScript 上下文中的未引用代码(dead-code)。它依赖于 ES2015 模块系统中的"),n("a",{attrs:{href:"http://exploringjs.com/es6/ch_modules.html#static-module-structure",target:"_blank",rel:"noopener noreferrer"}},[a._v("静态结构特性"),n("OutboundLink")],1),a._v("，例如 "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import",target:"_blank",rel:"noopener noreferrer"}},[n("code",[a._v("import")]),n("OutboundLink")],1),a._v(" 和 "),n("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export",target:"_blank",rel:"noopener noreferrer"}},[n("code",[a._v("export")]),n("OutboundLink")],1),a._v("。这个术语和概念实际上是兴起于 ES2015 模块打包工具 "),n("a",{attrs:{href:"https://github.com/rollup/rollup",target:"_blank",rel:"noopener noreferrer"}},[a._v("rollup"),n("OutboundLink")],1),a._v("。")])]),a._v(" "),n("p",[a._v("新的 webpack 4 正式版本，扩展了这个检测能力，通过 "),n("code",[a._v("package.json")]),a._v(" 的 "),n("code",[a._v('"sideEffects"')]),a._v(' 属性作为标记，向 compiler 提供提示，表明项目中的哪些文件是 "pure(纯的 ES2015 模块)"，由此可以安全地删除文件中未使用的部分。'),n("a",{attrs:{href:"https://www.webpackjs.com/guides/tree-shaking/#%E5%B0%86%E6%96%87%E4%BB%B6%E6%A0%87%E8%AE%B0%E4%B8%BA%E6%97%A0%E5%89%AF%E4%BD%9C%E7%94%A8-side-effect-free-",target:"_blank",rel:"noopener noreferrer"}},[a._v("点击了解"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("相关插件")]),a._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-deep-scope-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-deep-scope-plugin"),n("OutboundLink")],1),a._v("  提升treeShaking能力的一款插件；它可以使 webpack 消除与未使用导出相关的未使用导入，解决了 webpack 的6254问题。")]),a._v(" "),n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-parallel-uglify-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-parallel-uglify-plugin"),n("OutboundLink")],1),a._v(" 这个插件为有许多入口点的项目加快构建速度。带有 webpack 的 UglifyJS 插件按顺序运行每个输出文件。这个插件并行运行 uglify，每个可用的 cpu 都有一个线程。这可以导致显着减少构建时间，因为缩小是非常 CPU 密集。")]),a._v(" "),n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/purgecss-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("purifycss-webpack-plugin"),n("OutboundLink")],1),a._v(" 一个webpack插件用于剔除未使用的css")])]),a._v(" "),n("h5",{attrs:{id:"多线程编译"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程编译"}},[a._v("#")]),a._v(" 多线程编译")]),a._v(" "),n("ol",[n("li",[a._v("开启多核压缩 "),n("a",{attrs:{href:"https://www.npmjs.com/package/happypack",target:"_blank",rel:"noopener noreferrer"}},[a._v("happypack"),n("OutboundLink")],1),a._v(" 多线程编译")]),a._v(" "),n("li",[a._v("webpack 不⽀持的情况下使⽤ "),n("a",{attrs:{href:"https://www.npmjs.com/package/thread-loader",target:"_blank",rel:"noopener noreferrer"}},[a._v("thread-loader"),n("OutboundLink")],1),a._v(" "),n("strong",[a._v("请仅在耗时的 loader 上使用")]),a._v("，")])]),a._v(" "),n("h5",{attrs:{id:"多线程压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#多线程压缩"}},[a._v("#")]),a._v(" 多线程压缩")]),a._v(" "),n("p",[a._v("JavaScript的多核压缩可以开启 "),n("a",{attrs:{href:"https://www.npmjs.com/package/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("terser-webpack-plugin"),n("OutboundLink")],1),a._v(" (多核压缩）")]),a._v(" "),n("p",[a._v("terserPlugin是webpack推荐及内置的压缩插件，cache与parallel默认为开启状态")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/uglifyjs-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("uglifyjs-webpack-plugin"),n("OutboundLink")],1),a._v(" 官⽅维护插件")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-parallel-uglify-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-parallel-uglify-plugin"),n("OutboundLink")],1),a._v(" ⾮官⽅维护")]),a._v(" "),n("h5",{attrs:{id:"webpack-5"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-5"}},[a._v("#")]),a._v(" WEBPACK 5")]),a._v(" "),n("blockquote",[n("p",[a._v("Webpack5 不间断进程（continuous processes）和缓存对于⼤型复杂项⽬应⽤，在开发阶段，开发者⼀般习惯使⽤ Webpack --watch 选项或者webpack devServer 启动⼀个不间断的进程（continuous processes）以达到最佳的构建速度和效率。Webpack --watch 选项和 webpack-dev-server 都会监听⽂件系统，进⽽在必要时，触发持续编译构建动作。")])]),a._v(" "),n("p",[a._v("原理其实就是轮询判断⽂件的最后编辑时间是否变化，某个⽂件发⽣了变化，并不会⽴刻告诉监听者，⽽是先缓存起来，等待aggregateTimeout（Webpack 的 --watch 选项内置的类似 batching 的能⼒）https://github.com/paulmillr/chokidar")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" TerserJSPlugin "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'terser-webpack-plugin'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  optimization"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    minimizer"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("TerserJSPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      cache"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 是否缓存")]),a._v("\n      parallel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 是否并⾏打包")]),a._v("\n      sourceMap"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br")])]),n("h3",{attrs:{id:"css"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#css"}},[a._v("#")]),a._v(" css")]),a._v(" "),n("p",[a._v("CSS的多核压缩 "),n("a",{attrs:{href:"https://www.npmjs.com/package/optimize-css-assets-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("optimize-css-assets-webpack-plugin"),n("OutboundLink")],1)]),a._v(" "),n("h2",{attrs:{id:"资源处理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#资源处理"}},[a._v("#")]),a._v(" 资源处理")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/html-inline-css-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("html-inline-css-webpack-plugin"),n("OutboundLink")],1),a._v(" 把⼀些核⼼的CSS放到⻚⾯内部")]),a._v(" "),n("p",[a._v("需要"),n("a",{attrs:{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("mini-css-extract-plugin"),n("OutboundLink")],1),a._v("和"),n("a",{attrs:{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("html-webpack-plugin"),n("OutboundLink")],1)]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('<link rel="stylesheet" /> => <style>...<style/>\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/html-webpack-inline-source-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("html-webpack-inline-source-plugin"),n("OutboundLink")],1),a._v("  这是一个扩展插件的 webpack 插件 html-webpack-plugin。它允许你嵌入 javascript 和 css 源代码内嵌。")]),a._v(" "),n("h2",{attrs:{id:"图片压缩"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#图片压缩"}},[a._v("#")]),a._v(" 图片压缩")]),a._v(" "),n("p",[a._v("压缩图⽚ "),n("a",{attrs:{href:"https://www.npmjs.com/package/image-webpack-loader",target:"_blank",rel:"noopener noreferrer"}},[a._v("image-webpack-loader"),n("OutboundLink")],1)]),a._v(" "),n("h2",{attrs:{id:"html配置优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#html配置优化"}},[a._v("#")]),a._v(" html配置优化")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("html-webpack-plugin"),n("OutboundLink")],1),a._v(" html")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("HtmlWebpackPlugin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  inlineSource"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('".css$"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  template"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" path"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("__dirname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("src/")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),a._v("pageName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("/index.html")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("${")]),a._v("pageName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[a._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v(".html")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[a._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  chunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"vendors"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" pageName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  inject"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  minify"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    html5"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    collapseWhitespace"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    preserveLineBreaks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    minifyCSS"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    minifyJS"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    removeComments"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br")])]),n("h2",{attrs:{id:"代码分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码分析"}},[a._v("#")]),a._v(" 代码分析")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/prepack-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("prepack-webpack-plugin"),n("OutboundLink")],1),a._v("  代码求值，静态代码分析")]),a._v(" "),n("p",[n("a",{attrs:{href:"https://www.npmjs.com/package/@babel/plugin-syntax-dynamic-import",target:"_blank",rel:"noopener noreferrer"}},[a._v("@babel/plugin-syntax-dynamic-import"),n("OutboundLink")],1),a._v(" 动态引⼊")]),a._v(" "),n("h2",{attrs:{id:"错误提示优化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#错误提示优化"}},[a._v("#")]),a._v(" 错误提示优化")]),a._v(" "),n("p",[a._v("友好错误提示 "),n("a",{attrs:{href:"https://www.npmjs.com/package/friendly-errors-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("friendly-errors-webpack-plugin"),n("OutboundLink")],1)]),a._v(" "),n("p",[a._v("系统通知，本地 dev使用  "),n("a",{attrs:{href:"https://www.npmjs.com/package/webpack-build-notifier",target:"_blank",rel:"noopener noreferrer"}},[a._v("webpack-build-notifier"),n("OutboundLink")],1)]),a._v(" "),n("h2",{attrs:{id:"代码拆分"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代码拆分"}},[a._v("#")]),a._v(" 代码拆分")]),a._v(" "),n("p",[a._v("externals 配置去掉不需要编译的，可以抛弃 dll")]),a._v(" "),n("p",[a._v("splitChunks 公⽤库的代码拆分 去除打包")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[a._v("splitChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  chunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'async'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  minSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("30000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  minChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  maxAsyncRequests"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  maxInitialRequests"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  name"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  cacheGroups"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    commons"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      chunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'initial'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      minChunks"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      maxInitialRequests"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      minSize"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      name"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'commons'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br")])]),n("p",[a._v("分离⻚⾯公⽤包 "),n("a",{attrs:{href:"https://www.npmjs.com/package/html-webpack-externals-plugin",target:"_blank",rel:"noopener noreferrer"}},[a._v("html-webpack-externals-plugin"),n("OutboundLink")],1)]),a._v(" "),n("h2",{attrs:{id:"polyfill引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#polyfill引入"}},[a._v("#")]),a._v(" polyfill引入")]),a._v(" "),n("p",[a._v("js脚本直接引入，不编译")]),a._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("script")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("https://cdn.polyfill.io/v2/polyfill.min.js?feature=Map,Set"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br")])]),n("p",[a._v("使⽤动态 polyfill, 它会根据你的浏览器 UA 头，判断你是否⽀持某些特性，从⽽返回给你⼀个合适的 polyfill")]),a._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("script")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("type")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("main.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("script")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("nomodule")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[a._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')]),a._v("main.es5.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br")])]),n("h3",{attrs:{id:"webpack5-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack5-2"}},[a._v("#")]),a._v(" webpack5")]),a._v(" "),n("p",[a._v("在webpack5之前，webpack会自动的帮我们项目引入Node全局模块polyfill。我们可以通过node配置")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// false: 不提供任何方法（可能会造成bug），'empty':  引入空模块, 'mock': 引入一个mock模块，但功能很少")]),a._v("\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n  node"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    console"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    global"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    process"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br")])]),n("p",[a._v("但是webpack团队认为，现在大多数工具包多是为前端用途而编写的，所以不再自动引入polyfill。我们需要自行判断是否需要引入polyfill，当我们用weback5打包的时候，webpack会给我们类似如下的提示：")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("// 在项目中我使用到了 crypto 模块，webpack5会询问是否引入对应的 polyfill。\nModule not found: Error: Can't resolve 'crypto' in '/Users/xxx/Documents/private-project/webpack/ac_repair_mobile_webpack_5/node_modules/sshpk/lib/formats'\n\nBREAKING CHANGE: webpack < 5 used to include polyfills for node.js core modules by default.\nThis is no longer the case. Verify if you need these module and configure a polyfill for it.\n\nIf you want to include a polyfill, you need to:\n        - add an alias 'resolve.alias: { \"crypto\": \"crypto-browserify\" }'\n        - install 'crypto-browserify'\nIf you don't want to include a polyfill, you can use an empty module like this:\n        resolve.alias: { \"crypto\": false }\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("p",[a._v("webpack5中，增加了resolve.alias配置项来告诉webpack是否需要引入对应polyfill。node配置项也做了调整。")]),a._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[a._v("module"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("exports "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ...")]),a._v("\n  resolve"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    alias"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      crypto"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[a._v("'crypto-browserify'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// ..")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("  \n  node"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// https://webpack.js.org/configuration/node/#root")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 只能配置这三个")]),a._v("\n    global"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    __filename"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    __dirname"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br")])]),n("h2",{attrs:{id:"优秀配置库搜集"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#优秀配置库搜集"}},[a._v("#")]),a._v(" 优秀配置库搜集")]),a._v(" "),n("p",[a._v("构建配置设计成⼀个库")]),a._v(" "),n("p",[a._v("hjs-webpack、Neutrino、webpack-blocks")]),a._v(" "),n("p",[a._v("抽成⼀个⼯具进⾏管理")]),a._v(" "),n("p",[a._v("create-react-app, kyt, nwb")]),a._v(" "),n("p",[a._v("更多的快速构建⼯具")]),a._v(" "),n("p",[a._v("lerna 、brunch、 rome 、snowpack （过往Browserify、Rollup.js、Gulp、Parcel、Microbundle）")])])}),[],!1,null,null,null);s.default=e.exports}}]);